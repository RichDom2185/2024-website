---
import rehypeStringify from 'rehype-stringify';
import remarkParse from 'remark-parse';
import remarkRehype from 'remark-rehype';
import { unified } from 'unified';
type Props = {
  linkTarget?: string;
  class?: string;
  text: string;
};
const { linkTarget, class: className, text } = Astro.props;

const Container = className ? 'div' : Fragment;

const pipeline = unified()
  .use(remarkParse)
  .use(remarkRehype)
  .use(rehypeStringify);
const html = pipeline.processSync(text);
---

<Container class={className} set:html={html} />
