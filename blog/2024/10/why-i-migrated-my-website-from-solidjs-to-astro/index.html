<!DOCTYPE html><html lang="en" data-astro-transition-scope="astro-ouwq6jio-1"> <head><meta name="astro-view-transitions-enabled" content="true"><meta name="astro-view-transitions-fallback" content="animate"><script type="text/partytown" async src="https://www.googletagmanager.com/gtag/js?id=G-ZCBEYF2WZJ"></script><script type="text/partytown">(function(){const MID = "G-ZCBEYF2WZJ";

  window.dataLayer = window.dataLayer || [];
  function gtag() {
    dataLayer.push(arguments);
  }
  gtag('js', new Date());
  gtag('config', MID);
})();</script><meta charset="utf-8"><meta name="viewport" content="width=device-width, initial-scale=1"><link rel="icon" type="image/svg+xml" href="/favicon.svg"><meta name="generator" content="Astro v4.13.3"><meta name="theme-color" content="#000000"><link rel="preconnect" href="https://fonts.googleapis.com"><link rel="preconnect" href="https://fonts.gstatic.com" crossorigin><link href="https://fonts.googleapis.com/css2?family=Figtree:ital,wght@0,300..900;1,300..900&family=Plus+Jakarta+Sans:ital,wght@0,200..800;1,200..800&display=swap" rel="stylesheet"><meta name="color-scheme" content="light"><title>Why I Migrated My Website From SolidJS to Astro | Richard&#39;s Blog</title><meta name="title" content="Why I Migrated My Website From SolidJS to Astro | Richard's Blog"><meta name="description" content="I recently migrated my main portfolio site from SolidJS to Astro, and I thought that in order to celebrate the launch of the new site, I would write a blog post sharing a little bit about the reason behind the migration. In this post, I will talk about the history of my website, why I decided to migrate it to Astro and what is to come in the future.
"><meta property="og:type" content="website"><meta property="og:url" content="https://richarddominick.me/blog/2024/10/why-i-migrated-my-website-from-solidjs-to-astro/"><meta property="og:title" content="Why I Migrated My Website From SolidJS to Astro | Richard's Blog"><meta property="og:description" content="I recently migrated my main portfolio site from SolidJS to Astro, and I thought that in order to celebrate the launch of the new site, I would write a blog post sharing a little bit about the reason behind the migration. In this post, I will talk about the history of my website, why I decided to migrate it to Astro and what is to come in the future.
"><meta property="twitter:card" content="summary"><meta property="twitter:url" content="https://richarddominick.me/blog/2024/10/why-i-migrated-my-website-from-solidjs-to-astro/"><meta property="twitter:title" content="Why I Migrated My Website From SolidJS to Astro | Richard's Blog"><meta property="twitter:description" content="I recently migrated my main portfolio site from SolidJS to Astro, and I thought that in order to celebrate the launch of the new site, I would write a blog post sharing a little bit about the reason behind the migration. In this post, I will talk about the history of my website, why I decided to migrate it to Astro and what is to come in the future.
"><link rel="stylesheet" href="/_astro/_slug_.BZ3OcdN-.css">
<link rel="stylesheet" href="/_astro/_slug_.DZuzTLiI.css"><script type="module" src="/_astro/hoisted.DYyPbksh.js"></script>
<script>!(function(w,p,f,c){if(!window.crossOriginIsolated && !navigator.serviceWorker) return;c=w[p]=Object.assign(w[p]||{},{"lib":"/~partytown/","debug":false});c[f]=(c[f]||[]).concat(["dataLayer.push"])})(window,'partytown','forward');/* Partytown 0.10.2 - MIT builder.io */
const t={preserveBehavior:!1},e=e=>{if("string"==typeof e)return[e,t];const[n,r=t]=e;return[n,{...t,...r}]},n=Object.freeze((t=>{const e=new Set;let n=[];do{Object.getOwnPropertyNames(n).forEach((t=>{"function"==typeof n[t]&&e.add(t)}))}while((n=Object.getPrototypeOf(n))!==Object.prototype);return Array.from(e)})());!function(t,r,o,i,a,s,c,d,l,p,u=t,f){function h(){f||(f=1,"/"==(c=(s.lib||"/~partytown/")+(s.debug?"debug/":""))[0]&&(l=r.querySelectorAll('script[type="text/partytown"]'),i!=t?i.dispatchEvent(new CustomEvent("pt1",{detail:t})):(d=setTimeout(v,1e4),r.addEventListener("pt0",w),a?y(1):o.serviceWorker?o.serviceWorker.register(c+(s.swPath||"partytown-sw.js"),{scope:c}).then((function(t){t.active?y():t.installing&&t.installing.addEventListener("statechange",(function(t){"activated"==t.target.state&&y()}))}),console.error):v())))}function y(e){p=r.createElement(e?"script":"iframe"),t._pttab=Date.now(),e||(p.style.display="block",p.style.width="0",p.style.height="0",p.style.border="0",p.style.visibility="hidden",p.setAttribute("aria-hidden",!0)),p.src=c+"partytown-"+(e?"atomics.js?v=0.10.2":"sandbox-sw.html?"+t._pttab),r.querySelector(s.sandboxParent||"body").appendChild(p)}function v(n,o){for(w(),i==t&&(s.forward||[]).map((function(n){const[r]=e(n);delete t[r.split(".")[0]]})),n=0;n<l.length;n++)(o=r.createElement("script")).innerHTML=l[n].innerHTML,o.nonce=s.nonce,r.head.appendChild(o);p&&p.parentNode.removeChild(p)}function w(){clearTimeout(d)}s=t.partytown||{},i==t&&(s.forward||[]).map((function(r){const[o,{preserveBehavior:i}]=e(r);u=t,o.split(".").map((function(e,r,o){var a;u=u[o[r]]=r+1<o.length?u[o[r]]||(a=o[r+1],n.includes(a)?[]:{}):(()=>{let e=null;if(i){const{methodOrProperty:n,thisObject:r}=((t,e)=>{let n=t;for(let t=0;t<e.length-1;t+=1)n=n[e[t]];return{thisObject:n,methodOrProperty:e.length>0?n[e[e.length-1]]:void 0}})(t,o);"function"==typeof n&&(e=(...t)=>n.apply(r,...t))}return function(){let n;return e&&(n=e(arguments)),(t._ptf=t._ptf||[]).push(o,arguments),n}})()}))})),"complete"==r.readyState?h():(t.addEventListener("DOMContentLoaded",h),t.addEventListener("load",h))}(window,document,navigator,top,window.crossOriginIsolated);;(e=>{e.addEventListener("astro:before-swap",e=>{let r=document.body.querySelector("iframe[src*='/~partytown/']");if(r)e.newDocument.body.append(r)})})(document);</script><style>[data-astro-transition-scope="astro-ouwq6jio-1"] { view-transition-name: astro-ouwq6jio-1; }@layer astro { ::view-transition-old(astro-ouwq6jio-1) { animation: none; opacity: 0; mix-blend-mode: normal; }::view-transition-new(astro-ouwq6jio-1) { animation: none; mix-blend-mode: normal; }::view-transition-group(astro-ouwq6jio-1) { animation: none } }[data-astro-transition-fallback="old"] [data-astro-transition-scope="astro-ouwq6jio-1"],
			[data-astro-transition-fallback="old"][data-astro-transition-scope="astro-ouwq6jio-1"] { animation: none; mix-blend-mode: normal; }[data-astro-transition-fallback="new"] [data-astro-transition-scope="astro-ouwq6jio-1"],
			[data-astro-transition-fallback="new"][data-astro-transition-scope="astro-ouwq6jio-1"] { animation: none; mix-blend-mode: normal; }</style></head> <body class="light"> <div id="root"> <div class="BACKGROUND_DYNAMIC_COLOR TEXT_DYNAMIC_COLOR"> <header class="header BACKGROUND_DYNAMIC_COLOR TEXT_DYNAMIC_COLOR !bg-opacity-70 dark:!bg-opacity-50 backdrop-blur sticky top-0 w-full h-[--header-height] flex items-center gap-x-1 md:gap-x-5 lg:gap-x-6 px-3 md:px-5 py-4 text-sm font-display justify-end TEXT_MEDIUM z-10"> <div class="text-xl grow flex"> <div class="text-center"> <a id="site-logo" href="/" class="text-stone-500 hover:text-black dark:text-stone-400 dark:hover:text-stone-300 select-none inline-block w-[2.0625rem] md:w-[2.5rem] font-normal hover:font-black transition-[color,font-weight]">
RD
</a> </div>  </div> <a class="px-2 py-1 transition select-none rounded hover:shadow-md hover:text-white dark:hover:text-stone-900 hover:bg-blue-600 dark:hover:bg-zinc-100" href="/experiments" title="Experiments">  Experiments  </a> <a class="px-2 py-1 transition select-none rounded hover:shadow-md hover:text-white dark:hover:text-stone-900 hover:bg-blue-600 dark:hover:bg-zinc-100 text-stone-900 dark:text-stone-200 bg-zinc-200 dark:bg-zinc-600 bg-opacity-95 dark:bg-opacity-90 shadow-none" href="/blog" title="Blog">  Blog  </a> <a class="px-2 py-1 transition select-none rounded hover:shadow-md hover:text-white dark:hover:text-stone-900 hover:bg-blue-600 dark:hover:bg-zinc-100" href="https://github.com/RichDom2185" title="GitHub" target="_blank">  GitHub <iconify-icon inline="true" icon="heroicons-outline:external-link"></iconify-icon> </a>  </header>  <main> <div class="post max-w-4xl mx-auto px-6 lg:px-0 space-y-2 TEXT_NORMAL">  <h1 class="text-2xl md:text-3xl lg:text-4xl TEXT_BOLD !my-7 !leading-tight"> Why I Migrated My Website From SolidJS to Astro </h1> <span class="italic uppercase"> <time datetime="2024-10-26T00:00:00.000Z">Saturday, 26 Oct 2024</time> </span> <div class="flex flex-wrap gap-2 items-center"> <span>Author:</span> <ul class="post-author flex gap-2 flex-wrap"> <li class="bg-gray-100 dark:bg-gray-700 dark:text-stone-300 px-2 py-0.5 rounded-lg"> <iconify-icon inline="true" icon="emojione:bust-in-silhouette"></iconify-icon> Richard Dominick </li> </ul> </div> <hr class="!my-4 dark:border-[color:unset]"> <div class="flex"> <div class="flex justify-start items-center group/share gap-x-0 hover:gap-x-3 hover:md:gap-x-4"> <span class="opacity-60 dark:opacity-90 group-hover/share:opacity-100"> <iconify-icon inline="true" icon="heroicons:share-16-solid"></iconify-icon> <span>Share</span> </span> <button class="overflow-x-hidden group-hover/share:overflow-x-visible transition-all w-0 group-hover/share:w-auto opacity-0 group-hover/share:opacity-100 text-2xl relative group"> <a class="hover:text-[#2AABEE]" href="https://t.me/share/url?text=Check%20out%20this%20post%3A%20Why%20I%20Migrated%20My%20Website%20From%20SolidJS%20to%20Astro&url=https%3A%2F%2Fricharddominick.me%2Fblog%2F2024%2F10%2Fwhy-i-migrated-my-website-from-solidjs-to-astro" target="_blank" rel="noopener noreferrer nofollow"><span class="underline decoration-dotted hover:decoration-solid underline-offset-4"><span class="sr-only">Share this post on Telegram</span><iconify-icon inline="true" icon="ri:telegram-2-fill"></iconify-icon> </span></a> <span class="select-none box-border py-[6px] px-[8px] bg-black rounded-[6px] text-white text-xs not-italic text-center w-fit absolute z-50 top-full left-1/2 -translate-x-1/2 mt-1 invisible opacity-0 transition-opacity duration-50 group-hover:opacity-100 group-hover:visible"> Telegram </span> </button><button class="overflow-x-hidden group-hover/share:overflow-x-visible transition-all w-0 group-hover/share:w-auto opacity-0 group-hover/share:opacity-100 text-2xl relative group"> <a class="hover:text-[#24D366]" href="https://api.whatsapp.com/send/?text=https%3A%2F%2Fricharddominick.me%2Fblog%2F2024%2F10%2Fwhy-i-migrated-my-website-from-solidjs-to-astro&type=custom_url&app_absent=0" target="_blank" rel="noopener noreferrer nofollow"><span class="underline decoration-dotted hover:decoration-solid underline-offset-4"><span class="sr-only">Share this post on WhatsApp</span><iconify-icon inline="true" icon="ri:whatsapp-line"></iconify-icon> </span></a> <span class="select-none box-border py-[6px] px-[8px] bg-black rounded-[6px] text-white text-xs not-italic text-center w-fit absolute z-50 top-full left-1/2 -translate-x-1/2 mt-1 invisible opacity-0 transition-opacity duration-50 group-hover:opacity-100 group-hover:visible"> WhatsApp </span> </button><button class="overflow-x-hidden group-hover/share:overflow-x-visible transition-all w-0 group-hover/share:w-auto opacity-0 group-hover/share:opacity-100 text-2xl relative group"> <a class="hover:text-[#0B66C2]" href="https://www.linkedin.com/sharing/share-offsite?url=https%3A%2F%2Fricharddominick.me%2Fblog%2F2024%2F10%2Fwhy-i-migrated-my-website-from-solidjs-to-astro" target="_blank" rel="noopener noreferrer nofollow"><span class="underline decoration-dotted hover:decoration-solid underline-offset-4"><span class="sr-only">Share this post on LinkedIn</span><iconify-icon inline="true" icon="ri:linkedin-box-line"></iconify-icon> </span></a> <span class="select-none box-border py-[6px] px-[8px] bg-black rounded-[6px] text-white text-xs not-italic text-center w-fit absolute z-50 top-full left-1/2 -translate-x-1/2 mt-1 invisible opacity-0 transition-opacity duration-50 group-hover:opacity-100 group-hover:visible"> LinkedIn </span> </button><button class="overflow-x-hidden group-hover/share:overflow-x-visible transition-all w-0 group-hover/share:w-auto opacity-0 group-hover/share:opacity-100 text-2xl relative group"> <a class="hover:text-[#1877F2]" href="https://www.facebook.com/sharer/sharer.php?u=https%3A%2F%2Fricharddominick.me%2Fblog%2F2024%2F10%2Fwhy-i-migrated-my-website-from-solidjs-to-astro" target="_blank" rel="noopener noreferrer nofollow"><span class="underline decoration-dotted hover:decoration-solid underline-offset-4"><span class="sr-only">Share this post on Facebook</span><iconify-icon inline="true" icon="ri:facebook-circle-fill"></iconify-icon> </span></a> <span class="select-none box-border py-[6px] px-[8px] bg-black rounded-[6px] text-white text-xs not-italic text-center w-fit absolute z-50 top-full left-1/2 -translate-x-1/2 mt-1 invisible opacity-0 transition-opacity duration-50 group-hover:opacity-100 group-hover:visible"> Facebook </span> </button><button class="overflow-x-hidden group-hover/share:overflow-x-visible transition-all w-0 group-hover/share:w-auto opacity-0 group-hover/share:opacity-100 text-2xl relative group"> <a class="hover:text-[#198CD8]" href="https://twitter.com/intent/tweet?url=https%3A%2F%2Fricharddominick.me%2Fblog%2F2024%2F10%2Fwhy-i-migrated-my-website-from-solidjs-to-astro&text=Check%20out%20this%20post%3A%20Why%20I%20Migrated%20My%20Website%20From%20SolidJS%20to%20Astro" target="_blank" rel="noopener noreferrer nofollow"><span class="underline decoration-dotted hover:decoration-solid underline-offset-4"><span class="sr-only">Share this post on Twitter</span><iconify-icon inline="true" icon="ri:twitter-x-fill"></iconify-icon> </span></a> <span class="select-none box-border py-[6px] px-[8px] bg-black rounded-[6px] text-white text-xs not-italic text-center w-fit absolute z-50 top-full left-1/2 -translate-x-1/2 mt-1 invisible opacity-0 transition-opacity duration-50 group-hover:opacity-100 group-hover:visible"> Twitter </span> </button> </div> </div> <hr class="!my-4 dark:border-[color:unset]">  <span class="italic text-xs block text-stone-600 uppercase">
Last Updated on
<time datetime="2024-10-27T00:00:00.000Z">Sunday, 27 Oct 2024</time> </span> <hr class="!my-4">  <article class="space-y-4 leading-relaxed text-justify [&#38;_code]:text-[0.9em] [&#38;_pre>code]:text-[0.875em] [&#38;_:is(h1,h2,h3,h4,h5,h6)_code]:text-[length:unset]">  <p class="scroll-mt-[--header-height] TEXT_NORMAL">I recently migrated my main portfolio site from <a href="https://www.solidjs.com/" target="_blank" rel="noopener noreferrer" class="hover:underline hover:decoration-dashed underline-offset-4 LINK_DYNAMIC_NO_HOVER">SolidJS</a> to <a href="https://astro.build/" target="_blank" rel="noopener noreferrer" class="hover:underline hover:decoration-dashed underline-offset-4 LINK_DYNAMIC_NO_HOVER">Astro</a>, and I thought that in order to celebrate the launch of the new site, I would write a blog post sharing a little bit about the reason behind the migration. In this post, I will talk about the history of my website, why I decided to migrate it to Astro and what is to come in the future.</p>
<h2 id="background" class="scroll-mt-[--header-height] font-display text-left group TEXT_MEDIUM relative cursor-pointer hover:underline underline-offset-8 decoration-dashed text-lg lg:text-xl"><a href="#background">Background<span class="inline-block ml-1 text-sm opacity-0 group-hover:opacity-100 LINK_DYNAMIC_NO_HOVER">#</span></a></h2>
<p class="scroll-mt-[--header-height] TEXT_NORMAL">I have two sites that I consider as my “personal” (non-project related) websites:</p>
<ul class="scroll-mt-[--header-height] TEXT_NORMAL">
<li class="list-disc ml-5">My <a href="https://richarddominick.me/" target="_blank" rel="noopener noreferrer" class="hover:underline hover:decoration-dashed underline-offset-4 LINK_DYNAMIC_NO_HOVER">main portfolio site</a>, where I showcase my experience and past projects, as well as</li>
<li class="list-disc ml-5">My <a href="https://richarddominick.me/blog" target="_blank" rel="noopener noreferrer" class="hover:underline hover:decoration-dashed underline-offset-4 LINK_DYNAMIC_NO_HOVER">blog</a>, where I ocassionally write about tech stuff and other things that interest me</li>
</ul>
<blockquote class="scroll-mt-[--header-height] TEXT_NORMAL space-y-4 pl-4 border-l-4 border-dashed BORDER_DYNAMIC_COLOR">
<p><em><strong>Sidenote:</strong> Historically, the blog has always been written using <a href="https://jekyllrb.com/" target="_blank" rel="noopener noreferrer" class="hover:underline hover:decoration-dashed underline-offset-4 LINK_DYNAMIC_NO_HOVER">Jekyll</a>, and while the full migration to Astro includes rewriting the blog and combining its codebase into a single repository, I will only focus on the main site migration in this post.</em></p>
</blockquote>
<h2 id="a-not-so-brief-history-of-my-site" class="scroll-mt-[--header-height] font-display text-left group TEXT_MEDIUM relative cursor-pointer hover:underline underline-offset-8 decoration-dashed text-lg lg:text-xl"><a href="#a-not-so-brief-history-of-my-site">A (Not-So-Brief) History of My Site<span class="inline-block ml-1 text-sm opacity-0 group-hover:opacity-100 LINK_DYNAMIC_NO_HOVER">#</span></a></h2>
<p class="scroll-mt-[--header-height] TEXT_NORMAL">I experimented with building my portfolio site many times over the years, but for a personal site, no template ever <em>felt like me</em>. Eventually, I realized that I just had to design and build it from scratch, without any templates. As someone who enjoys both designing and developing, creating a site from scratch felt like the best way to showcase something that reflects my personal self, and my skills at the same time.</p>
<h3 id="considerations-before-development" class="scroll-mt-[--header-height] font-display text-left group TEXT_MEDIUM relative cursor-pointer hover:underline underline-offset-8 decoration-dashed text-lg"><a href="#considerations-before-development">Considerations Before Development<span class="inline-block ml-1 text-sm opacity-0 group-hover:opacity-100 LINK_DYNAMIC_NO_HOVER">#</span></a></h3>
<p class="scroll-mt-[--header-height] TEXT_NORMAL">When I started building my site, I had a vision: I wanted a site that was fast, lightweight, and easy to maintain.</p>
<p class="scroll-mt-[--header-height] TEXT_NORMAL">I wanted to be able to write content as data, and have the site logic figure out the rest of the UI. Be it YAML, JSON, or Markdown, it should be as frictionless as possible, so that I could focus on writing and not on things like ensuring style consistency, and so on.</p>
<p class="scroll-mt-[--header-height] TEXT_NORMAL">This meant that almost certainly, I was going to have to use a framework, which would allow me to reuse pieces of code as components, as well as add plugins for things like state management or additional functionality.</p>
<h3 id="the-first-portfolio-site" class="scroll-mt-[--header-height] font-display text-left group TEXT_MEDIUM relative cursor-pointer hover:underline underline-offset-8 decoration-dashed text-lg"><a href="#the-first-portfolio-site">The First Portfolio Site<span class="inline-block ml-1 text-sm opacity-0 group-hover:opacity-100 LINK_DYNAMIC_NO_HOVER">#</span></a></h3>
<p class="scroll-mt-[--header-height] TEXT_NORMAL">What I consider my first portfolio site (“v1”) was born in 2022. It was built using <a href="https://react.dev/" target="_blank" rel="noopener noreferrer" class="hover:underline hover:decoration-dashed underline-offset-4 LINK_DYNAMIC_NO_HOVER">ReactJS</a>, like most Single-Page Apps, but I quickly realized that it was not the correct framework for me. It simply felt too slow for a lot of the things I wanted to do with it. Unfortunately, this meant that I quickly lost motivation and v1 was never fully completed.</p>
<h3 id="the-second-portfolio-site" class="scroll-mt-[--header-height] font-display text-left group TEXT_MEDIUM relative cursor-pointer hover:underline underline-offset-8 decoration-dashed text-lg"><a href="#the-second-portfolio-site">The Second Portfolio Site<span class="inline-block ml-1 text-sm opacity-0 group-hover:opacity-100 LINK_DYNAMIC_NO_HOVER">#</span></a></h3>
<p class="scroll-mt-[--header-height] TEXT_NORMAL">So I moved on to <a href="https://www.solidjs.com/" target="_blank" rel="noopener noreferrer" class="hover:underline hover:decoration-dashed underline-offset-4 LINK_DYNAMIC_NO_HOVER">SolidJS</a> in 2023. It has a code style similar to React, which at that time, was the only frontend framework I was familiar with. SolidJS with its compiler was much faster and more lightweight, so it was the natural choice.</p>
<p class="scroll-mt-[--header-height] TEXT_NORMAL">I consider v2 to be the first “real” version of my site, as it was the first one that I actually published with mostly complete content. Around the same time, both my frontend skills, as well as the available libraries in the JS ecosystem, had also improved, and I was able to utilize things like lazy loading, code splitting, and more to make the site even faster.</p>
<p class="scroll-mt-[--header-height] TEXT_NORMAL">Even though it was still client side rendered, I was happy with the performance and the overall design of the site. Moreover, Google had started to index client side rendered sites, so I was not too worried about SEO.</p>
<h3 id="the-migration-to-astro" class="scroll-mt-[--header-height] font-display text-left group TEXT_MEDIUM relative cursor-pointer hover:underline underline-offset-8 decoration-dashed text-lg"><a href="#the-migration-to-astro">The Migration to Astro<span class="inline-block ml-1 text-sm opacity-0 group-hover:opacity-100 LINK_DYNAMIC_NO_HOVER">#</span></a></h3>
<p class="scroll-mt-[--header-height] TEXT_NORMAL"><a href="https://v2.richarddominick.me/" target="_blank" rel="noopener noreferrer" class="hover:underline hover:decoration-dashed underline-offset-4 LINK_DYNAMIC_NO_HOVER">v2</a> was great and lasted over a year, but while it solved a lot of my problems, it also introduced new ones. I wrote my experiences and projects in YAML files, which is then converted into an object before being rendered on the site. Using Vite, I could move the YAML-to-object conversion from runtime to build time, which gave a performance boost, but the object still contained strings that needed to be parsed and rendered as Markdown, which was not ideal, as the Markdown to HTML conversion had to be done at runtime.</p>
<p class="scroll-mt-[--header-height] TEXT_NORMAL">While loading the content asyncrhonously from the main page helped mitigate the performance impact, it actually made another problem <em>worse</em>: my website has a section for people to contact me (<a href="https://richarddominick.me/#contact" target="_blank" rel="noopener noreferrer" class="hover:underline hover:decoration-dashed underline-offset-4 LINK_DYNAMIC_NO_HOVER">richarddominick.me#contact</a>). By how HTML fragments work, you would expect that clicking the hyperlink takes you directly to the contact section.</p>
<p class="scroll-mt-[--header-height] TEXT_NORMAL">Normally, on client-side rendered sites, you can easily mitigate this issue at the page level:</p>
<div class="highlight bg-[#f8f8f8] dark:bg-[#24292f] mx-0 my-[1em] rounded language-tsx scroll-mt-[--header-height] TEXT_NORMAL"><pre class="astro-code astro-code-themes github-light github-dark highlight bg-[#f8f8f8] dark:bg-[#24292f] mx-0 my-[1em] rounded overflow-x-auto px-6 py-4" style="--shiki-light:#24292e;--shiki-dark:#e1e4e8;--shiki-light-bg:#fff;--shiki-dark-bg:#24292e; overflow-x: auto;" tabindex="0" data-language="tsx"><code><span class="line dark:opacity-85"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583" class="dark:opacity-85">const</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0" class="dark:opacity-85"> Page</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583" class="dark:opacity-85"> =</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8" class="dark:opacity-85"> () </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583" class="dark:opacity-85">=></span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8" class="dark:opacity-85"> {</span></span>
<span class="line dark:opacity-85"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583" class="dark:opacity-85">  const</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF" class="dark:opacity-85"> loc</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583" class="dark:opacity-85"> =</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0" class="dark:opacity-85"> useLocation</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8" class="dark:opacity-85">();</span></span>
<span class="line dark:opacity-85"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0" class="dark:opacity-85">  useEffect</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8" class="dark:opacity-85">(() </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583" class="dark:opacity-85">=></span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8" class="dark:opacity-85"> {</span></span>
<span class="line dark:opacity-85"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583" class="dark:opacity-85">    if</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8" class="dark:opacity-85"> (loc.hash) {</span></span>
<span class="line dark:opacity-85"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583" class="dark:opacity-85">      const</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF" class="dark:opacity-85"> el</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583" class="dark:opacity-85"> =</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8" class="dark:opacity-85"> document.</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0" class="dark:opacity-85">querySelector</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8" class="dark:opacity-85">(loc.hash);</span></span>
<span class="line dark:opacity-85"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8" class="dark:opacity-85">      el?.</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0" class="dark:opacity-85">scrollIntoView</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8" class="dark:opacity-85">();</span></span>
<span class="line dark:opacity-85"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8" class="dark:opacity-85">    }</span></span>
<span class="line dark:opacity-85"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8" class="dark:opacity-85">  }, [loc.hash]);</span></span>
<span class="line dark:opacity-85"></span>
<span class="line dark:opacity-85"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583" class="dark:opacity-85">  return</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8" class="dark:opacity-85"> (</span></span>
<span class="line dark:opacity-85"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8" class="dark:opacity-85">    &#x3C;</span><span style="--shiki-light:#22863A;--shiki-dark:#85E89D" class="dark:opacity-85">div</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8" class="dark:opacity-85">></span></span>
<span class="line dark:opacity-85"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8" class="dark:opacity-85">      &#x3C;</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF" class="dark:opacity-85">Section1</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8" class="dark:opacity-85"> /></span></span>
<span class="line dark:opacity-85"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8" class="dark:opacity-85">      &#x3C;</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF" class="dark:opacity-85">Section2</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8" class="dark:opacity-85"> /></span></span>
<span class="line dark:opacity-85"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8" class="dark:opacity-85">      &#x3C;</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF" class="dark:opacity-85">Section3</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8" class="dark:opacity-85"> /></span></span>
<span class="line dark:opacity-85"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8" class="dark:opacity-85">    &#x3C;/</span><span style="--shiki-light:#22863A;--shiki-dark:#85E89D" class="dark:opacity-85">div</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8" class="dark:opacity-85">></span></span>
<span class="line dark:opacity-85"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8" class="dark:opacity-85">  )</span></span>
<span class="line dark:opacity-85"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8" class="dark:opacity-85">}</span></span>
<span class="line dark:opacity-85"></span></code></pre></div>
<p class="scroll-mt-[--header-height] TEXT_NORMAL">Consider what happens when you load the content asynchronously. If the content is loaded before the <code class="bg-gray-200 dark:bg-gray-800 px-1 py-0.5 rounded-sm">useEffect</code> runs, then everything will work as expected. But in most cases, the page will scroll to the location of the hash before the content is loaded. Once the content loads, the entire page then shifts and does not re-scroll to the correct location.</p>
<p class="scroll-mt-[--header-height] TEXT_NORMAL">Now, we are faced with a dilemma: do we wrap the <code class="bg-gray-200 dark:bg-gray-800 px-1 py-0.5 rounded-sm">useEffect</code> in a <code class="bg-gray-200 dark:bg-gray-800 px-1 py-0.5 rounded-sm">setTimeout</code>? This will give the content time to load, but comes with two trade-offs:</p>
<ul class="scroll-mt-[--header-height] TEXT_NORMAL">
<li class="list-disc ml-5">
<p><em>First</em>, <strong>it is a hack</strong> and assumes that the content will load within a reasonable timeframe, thus is not guaranteed to work every time, especially for mobile devices or slow and/or less reliable connections.</p>
</li>
<li class="list-disc ml-5">
<p><em>Second</em>, it delays the actual scrolling to the correct location. The longer you set the timeout value, the higher the chance it will scroll to the correct location, but the longer users have to wait, which is <strong>not a good user experience</strong>.</p>
</li>
</ul>
<hr class="scroll-mt-[--header-height] TEXT_NORMAL dark:border-[color:unset]">
<!-- TODO: Remember to change the link once v4 becomes default, if ever -->
<p class="scroll-mt-[--header-height] TEXT_NORMAL">I have been following Astro very closely since when I first heard about it, and by late 2024, it had matured enough for my liking. Moreover, I was taking a course at university on SEO, so a static site rewrite was a no-brainer. Thus, <a href="https://richarddominick.me/" target="_blank" rel="noopener noreferrer" class="hover:underline hover:decoration-dashed underline-offset-4 LINK_DYNAMIC_NO_HOVER">v3</a> was born.</p>
<h2 id="why-i-chose-astro" class="scroll-mt-[--header-height] font-display text-left group TEXT_MEDIUM relative cursor-pointer hover:underline underline-offset-8 decoration-dashed text-lg lg:text-xl"><a href="#why-i-chose-astro">Why I Chose Astro<span class="inline-block ml-1 text-sm opacity-0 group-hover:opacity-100 LINK_DYNAMIC_NO_HOVER">#</span></a></h2>
<p class="scroll-mt-[--header-height] TEXT_NORMAL">After migrating my site to Astro, I found it particularly enjoyable and suited for my site for a number of reasons:</p>
<h3 id="static-site-generation-ssg" class="scroll-mt-[--header-height] font-display text-left group TEXT_MEDIUM relative cursor-pointer hover:underline underline-offset-8 decoration-dashed text-lg"><a href="#static-site-generation-ssg">Static Site Generation (SSG)<span class="inline-block ml-1 text-sm opacity-0 group-hover:opacity-100 LINK_DYNAMIC_NO_HOVER">#</span></a></h3>
<p class="scroll-mt-[--header-height] TEXT_NORMAL">For a portfolio/blog site, most of the content is static, so using SSG makes a lot of sense. Produce static HTML, it removes the need for anything to be processed client-side at runtime, giving a huge performance boost. Of course, with full static HTML and no more asynchronous rendering, hash fragments is also super easy and works out-of-the-box by the browser, with no additional code needed.</p>
<p class="scroll-mt-[--header-height] TEXT_NORMAL">Astro’s support for multiple types of <a href="https://docs.astro.build/en/guides/content-collections/" target="_blank" rel="noopener noreferrer" class="hover:underline hover:decoration-dashed underline-offset-4 LINK_DYNAMIC_NO_HOVER">content collections</a> (like YAML, JSON, and Markdown) also made it easy to migrate my existing content to the new site. Since my blog posts are already in Markdown, and my projects/experiences in YAML, defining the collections was a one-time setup.</p>
<p class="scroll-mt-[--header-height] TEXT_NORMAL">I also really like that Astro type-checks these collections, ensuring I don’t accidentally mistype or misremember a property name. While I do miss having live typechecking in my editor, it is still way better than not having any typechecks at all, as was the case previously.</p>
<h3 id="islands-for-interactive-components" class="scroll-mt-[--header-height] font-display text-left group TEXT_MEDIUM relative cursor-pointer hover:underline underline-offset-8 decoration-dashed text-lg"><a href="#islands-for-interactive-components">Islands for Interactive Components<span class="inline-block ml-1 text-sm opacity-0 group-hover:opacity-100 LINK_DYNAMIC_NO_HOVER">#</span></a></h3>
<p class="scroll-mt-[--header-height] TEXT_NORMAL">Despite all the great benefits of static sites, my website still requires some dynamic and/or interactive components, like a contact form, or a desktop-only <a href="https://richarddominick.me/#experience" target="_blank" rel="noopener noreferrer" class="hover:underline hover:decoration-dashed underline-offset-4 LINK_DYNAMIC_NO_HOVER">interactive display alternative</a> for my experiences.</p>
<p class="scroll-mt-[--header-height] TEXT_NORMAL">Astro’s <a href="https://docs.astro.build/concepts/islands/" target="_blank" rel="noopener noreferrer" class="hover:underline hover:decoration-dashed underline-offset-4 LINK_DYNAMIC_NO_HOVER">Islands</a> feature allows me to still have this interactivity, while keeping the rest of the site static. It also has other benefits, like component isolation, though they are less relevant for my use case. These components are also automatically lazy-loaded only when needed, thereby keeping loading times minimal.</p>
<h3 id="customizability" class="scroll-mt-[--header-height] font-display text-left group TEXT_MEDIUM relative cursor-pointer hover:underline underline-offset-8 decoration-dashed text-lg"><a href="#customizability">Customizability<span class="inline-block ml-1 text-sm opacity-0 group-hover:opacity-100 LINK_DYNAMIC_NO_HOVER">#</span></a></h3>
<p class="scroll-mt-[--header-height] TEXT_NORMAL">Lastly, the main reason I chose Astro was its customizability. Astro uses <a href="https://vite.dev/" target="_blank" rel="noopener noreferrer" class="hover:underline hover:decoration-dashed underline-offset-4 LINK_DYNAMIC_NO_HOVER">Vite</a> build tool under the hood, which allows for a lot of customization. There are many available plugins for Rollup and ESBuild, which can be easily integrated into the Astro build process.</p>
<p class="scroll-mt-[--header-height] TEXT_NORMAL">As a fan of Markdown, I thoroughly enjoy the customizability of the <a href="https://remark.js.org/" target="_blank" rel="noopener noreferrer" class="hover:underline hover:decoration-dashed underline-offset-4 LINK_DYNAMIC_NO_HOVER">Unified/Remark ecosystem</a> for Markdown processing. I have been working with the ecosystem for a while now, even including it in my other projects like <a href="https://glam-mailer.netlify.app/" target="_blank" rel="noopener noreferrer" class="hover:underline hover:decoration-dashed underline-offset-4 LINK_DYNAMIC_NO_HOVER">glam-mailer</a>, so I really appreciate being able to write custom plugins, extensions and pipelines that are reusable across projects.</p>
<p class="scroll-mt-[--header-height] TEXT_NORMAL">I also envision the use case for my site being a tech blog, so syntax highlighting is a must. I must say I have not used <a href="https://shiki.matsu.io/" target="_blank" rel="noopener noreferrer" class="hover:underline hover:decoration-dashed underline-offset-4 LINK_DYNAMIC_NO_HOVER">Shiki</a>, the syntax highlighter Astro uses, before. But after reading through its documentation, I found it very easy to write custom transformers and even support additional languages for it, with a very similar “pipeline processing” approach, like Remark.</p>
<p class="scroll-mt-[--header-height] TEXT_NORMAL">Lastly, having Astro automatically scope CSS to each file, like <a href="https://vuejs.org/" target="_blank" rel="noopener noreferrer" class="hover:underline hover:decoration-dashed underline-offset-4 LINK_DYNAMIC_NO_HOVER">Vue</a>, is a huge plus. It allows me to write CSS without worrying about global styles, and makes it easy to combine different pages with different styles, without worrying about conflicts. This is especially useful for my use case, where I often need to write custom code that is unique to each project page or blog post.</p>
<h2 id="whats-next-and-conclusion" class="scroll-mt-[--header-height] font-display text-left group TEXT_MEDIUM relative cursor-pointer hover:underline underline-offset-8 decoration-dashed text-lg lg:text-xl"><a href="#whats-next-and-conclusion">What’s Next and Conclusion<span class="inline-block ml-1 text-sm opacity-0 group-hover:opacity-100 LINK_DYNAMIC_NO_HOVER">#</span></a></h2>
<p class="scroll-mt-[--header-height] TEXT_NORMAL">With the main site fully migrated to Astro, and the blog mostly migrated from Jekyll and Ruby to Astro and TypeScript, writing has become a lot more enjoyable and frictionless. I hope that I will be able to write more frequently, publish more articles, and share more of my experiences in the future.</p>
<p class="scroll-mt-[--header-height] TEXT_NORMAL">While I did move away from SolidJS, I still think it is a great framework, and I would recommend it to anyone who is looking for a lightweight, fast, and easy-to-use framework, with an approachable API for those who are familiar with React. I will certainly continue to use it for future projects where it makes sense to do so.</p>
<p class="scroll-mt-[--header-height] TEXT_NORMAL">However, for my personal site, Astro has become my choice for now, as it allows me to build a site that is not only fast, but easy to maintain and customize to fit my vision. Its integration with very popular, extensible, and plugin-rich ecosystems like Vite, Remark, Zod, and Shiki, makes it a great choice for anyone looking to build a static site that is more than just a simple blog.</p>
<p class="scroll-mt-[--header-height] TEXT_NORMAL">Let me know if you would like to see a more in-depth post on any of the topics I mentioned above!</p>
<hr class="scroll-mt-[--header-height] TEXT_NORMAL dark:border-[color:unset]">
<p class="scroll-mt-[--header-height] TEXT_NORMAL"><em>Stay tuned for more writeups on tech!</em></p>  </article> </div> </main> <footer class="text-center px-4 pt-8 pb-12 md:pb-24">
&copy; 2024 Richard Dominick. All rights reserved.
<div class="flex justify-center gap-4 mt-4"> <a href="https://www.linkedin.com/in/richard-dominick" target="_blank"> <span class="sr-only">Connect with me on LinkedIn</span> <iconify-icon class="text-[2rem]" icon="cib:linkedin"></iconify-icon> </a> <a href="mailto:richard.dominick01@gmail.com" target="_blank"> <span class="sr-only">Send me an email</span> <iconify-icon class="text-[2rem]" icon="cib:gmail"></iconify-icon> </a> <a href="https://github.com/RichDom2185" target="_blank"> <span class="sr-only">Go to my GitHub profile</span> <iconify-icon class="text-[2rem]" icon="cib:github"></iconify-icon> </a> </div> </footer> </div> </div> </body></html>